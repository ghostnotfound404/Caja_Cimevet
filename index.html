<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema Veterinaria</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
</head>
<body>
    <!-- Modal Inicial -->
    <div id="modal-inicio" class="modal">
        <div class="modal-content">
            <h2>Apertura de Caja</h2>
            <input type="text" id="nombre-cajero" placeholder="Nombre del Cajero" required>
            <input type="number" class="sin-flechas" id="monto-caja" placeholder="Monto Inicial en Caja" required>
            <button id="iniciar-sistema">Iniciar Sistema</button>
        </div>
    </div>

    <!-- Sistema Principal -->
    <div id="sistema" class="hidden">
        <h1 id="titulo-cajero"></h1>
        
        <!-- Formulario de Registro -->
        <div class="formulario">
            <input type="text" id="mascota" placeholder="Mascota (solo letras)" pattern="[A-Za-z\s]+" required>
            <input type="number" class="sin-flechas" id="peso" placeholder="Peso" required>
            <input type="text" id="propietario" placeholder="Propietario (solo letras)" pattern="[A-Za-z\s]+" required>
            
            <div class="grupo-servicio">
                <div>
                    <h3>Servicio:</h3>
                    <input type="text" id="nombre-servicio" placeholder="Nombre del servicio">
                </div>
                <div>
                    <h3>Tipo:</h3>
                    <button type="button" class="btn-tipo" data-tipo="Clínica">Clínica</button>
                    <button type="button" class="btn-tipo" data-tipo="Farmacia">Farmacia</button>
                    <button type="button" class="btn-tipo" data-tipo="Petshop">Petshop</button>
                </div>
            </div>
            
            <input type="number" class="sin-flechas" id="precio" placeholder="Precio (ej. 50.00)" step="0.01" required>
            
            <div class="grupo-botones">
                <h3>Medio de Pago:</h3>
                <button type="button" class="btn-pago" data-pago="Efectivo">Efectivo</button>
                <button type="button" class="btn-pago" data-pago="Yape">Yape</button>
                <button type="button" class="btn-pago" data-pago="Visa">Visa</button>
                <button type="button" class="btn-pago" data-pago="Transferencia">Transferencia</button>
            </div>
            
            <button id="agregar-item">Agregar Item</button>
        </div>
        
        <!-- Tabla de Items -->
        <div class="tabla-items">
            <h2>Resumen</h2>
            <table id="tabla-resumen">
                <thead>
                    <tr>
                        <th>Mascota</th>
                        <th>Peso</th>
                        <th>Propietario</th>
                        <th>Servicio</th>
                        <th>Tipo</th>
                        <th>Precio</th>
                        <th>Medio Pago</th>
                        <th>Acción</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
            <div id="total-items">Total: S/ 0.00</div>
        </div>
        
        <!-- Egresos -->
        <div class="egresos">
            <h2>Egresos</h2>
            <input type="number" class="sin-flechas" id="monto-egreso" placeholder="Monto" step="0.01">
            <input type="text" id="descripcion-egreso" placeholder="Descripción">
            <button id="agregar-egreso">Agregar Egreso</button>
            <div id="lista-egresos"></div>
        </div>
        
        <!-- Botones Finales -->
        <div class="acciones">
            <button id="cuadrar-caja">Cuadrar Caja</button>
            <button id="exportar-excel">Exportar a Excel</button>
            <button id="cerrar-caja">Cerrar Caja</button>
        </div>
        
        <!-- Resumen de Cierre -->
        <div id="resumen-cierre" class="hidden">
            <h2>Resumen de Cierre</h2>
            <div id="resumen-tipos"></div>
            <div id="resumen-pagos"></div>
            <div id="resumen-egresos"></div>
            <div id="total-final"></div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>